{
    "ID": 9,
    "q_ch": "William ÁöÑÁºùÁ∫´‰ªªÂä°ËøõÂ∫¶Â¶Ç‰ΩïÔºü",
    "q_en": "What is the progress of sewing tasks for William?",
    "gt": "Hello there! üòÑ Let's take a look at the progress of sewing tasks for our customer, William. Based on the data, here's how things are shaping up:\n\n| Order Product ID | Progress Percentage |\n|------------------|---------------------|\n| 28               | 100%                |\n| 29               | 100%                |\n| 30               | 100%                |\n\nGreat news! üéâ All sewing tasks for William's orders are fully completed. If you have any more questions or need further assistance, feel free to ask! üòä",
    "steps": [
        {
            "type": "SQL",
            "sql": "SELECT id FROM customers WHERE customer_name = 'William';",
            "description": "Retrieve the customer ID for the customer with the name \"William\"",
            "results": [
                {
                    "id": 8
                }
            ]
        },
        {
            "type": "SQL",
            "sql": "SELECT id FROM orders WHERE user_id = '8';",
            "description": "Retrieve the order IDs for the customer \"William\"",
            "results": [
                {
                    "id": 8
                }
            ]
        },
        {
            "type": "SQL",
            "sql": "SELECT id, number FROM order_product WHERE order_id IN ('8');",
            "description": "Retrieve the order_product IDs and the total number of products for the orders of customer \"William\"",
            "results": [
                {
                    "id": 28,
                    "number": 210
                },
                {
                    "id": 29,
                    "number": 180
                },
                {
                    "id": 30,
                    "number": 195
                }
            ]
        },
        {
            "type": "SQL",
            "sql": "SELECT order_product_id, SUM(completed_number) AS completed_number FROM sewing_tasks WHERE order_product_id IN ('28', '29', '30') GROUP BY order_product_id;",
            "description": "Retrieve the completed number of sewing tasks for the order products of customer \"William\"",
            "results": [
                {
                    "order_product_id": 28,
                    "completed_number": "210"
                },
                {
                    "order_product_id": 29,
                    "completed_number": "180"
                },
                {
                    "order_product_id": 30,
                    "completed_number": "195"
                }
            ]
        },
        {
            "type": "SQL",
            "sql": "SELECT op.id, (st.completed_number / op.number) * 100 AS progress_percentage FROM order_product op JOIN (SELECT order_product_id, SUM(completed_number) AS completed_number FROM sewing_tasks WHERE order_product_id IN ('28', '29', '30') GROUP BY order_product_id) st ON op.id = st.order_product_id;",
            "description": "Calculate the progress of sewing tasks for each order product",
            "results": [
                {
                    "id": 28,
                    "progress_percentage": "100.0000"
                },
                {
                    "id": 29,
                    "progress_percentage": "100.0000"
                },
                {
                    "id": 30,
                    "progress_percentage": "100.0000"
                }
            ]
        }
    ]
}